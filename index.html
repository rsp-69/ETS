<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>RSP_OS — Theme Selector</title>
	
	<link rel="stylesheet" href="os.css">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Rubik+Doodle+Shadow&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    body {
      display: flex;
      justify-content: center;
      align-items: flex-start;
	font-family: var(--font-body), sans-serif;
    }

    .home-wrapper {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

  </style>

</head>

<body>
<div class="home-wrapper">
<nav class="top-nav">
  <a href="#">RSP</a>
  <a href="index.html" class="active">Home</a>
  <a href="achievements.html">Achievements</a>
  <a href="projects.html">Personal Projects</a>
  <a href="about.html">About ETS</a>
</nav>


<!-- MAIN GLASS SLAB -->
<div class="container glass-panel">
  <h2>Your choice matters</h2>
  <p>Go on, design your experience!</p>
<div class="theme-grid">
  <button class="glass-btn myView" onclick="handleViewSelection('personal')">My View</button>
  <button class="glass-btn tiramisu" onclick="handleViewSelection('tiramisu')">Tiramisu</button>
  <button class="glass-btn dark" onclick="handleViewSelection('dark')">Dark Mode</button>
  <button class="glass-btn vapourware" onclick="handleViewSelection('vapourware')">Vapourware</button>
  <button class="glass-btn light" onclick="handleViewSelection('light')">Light Mode</button>
  <button class="glass-btn retro_tech" onclick="handleViewSelection('retro_tech')">Retro Tech</button>
</div>
<select id="companySelect" class="glass-btn" onchange="localStorage.setItem('ETS_CUSTOM_ORG', this.options[this.selectedIndex].text); handleViewSelection('org')">

    <option value="">Org. Mode (select)</option>
    <option value="aldi">ALDI Australia</option>
    <option value="afl">AFL</option>
    <option value="bega">Bega Group</option>
    <option value="bunnings">Bunnings Australia</option>
    <option value="coles">Coles Group</option>
    <option value="kmart">KMART Australia</option>
    <option value="yarra_trams">Yarra Trams</option>
  </select>

  <div class="note">More company themes are being added.</div>
</div>
<!-- ROLE INPUT (always visible) -->
<input id="roleInput" class="input-field"
  placeholder="Give me the role as advertised."
  oninput="localStorage.setItem('ETS_ROLE', this.value)" />

<!-- COMPANY INPUT (appears only for personal/light/dark) -->
<input id="companyInput" class="input-field"
  placeholder="And, proper name of organisation this will be go in your cover letter" oninput="localStorage.setItem('ETS_CUSTOM_ORG', this.value)" />

<!-- DOCUMENT BUTTONS -->
<div id="docButtons">
  <button class="glass-panel glass-btn" onclick="openDocument('resume')">Résumé</button>
  <button class="glass-panel glass-btn" onclick="openDocument('cover')">Cover Letter</button>
</div>
<script>
let selectedView = null;

// COMPANY DROPDOWN → APPLY ORG THEME
document.getElementById("companySelect").addEventListener("change", function () {
  const orgTheme = this.value.trim();
  if (!orgTheme) return;

  localStorage.setItem("ETS_THEME", orgTheme);
  selectedView = orgTheme;

  handleViewSelection("org");
});

// BUTTONS → APPLY VIEW THEMES (EXCEPT VAPOURWARE)
function handleViewSelection(view) {
  const roleInput = document.getElementById("roleInput");
  const companyInput = document.getElementById("companyInput");
  const docButtons = document.getElementById("docButtons");

  selectedView = view;

  // Save theme for all except vapourware + org dropdown
  if (view !== "vapourware" && view !== "org") {
    localStorage.setItem("ETS_THEME", view);
  }

  // Show/hide company input
  companyInput.style.display = view === "org" ? "none" : "block";

  // Animations
  roleInput.style.opacity = "1";
  roleInput.style.pointerEvents = "auto";
  roleInput.style.transform = "translateY(0)";

  companyInput.style.opacity = "0";
  companyInput.style.pointerEvents = "none";
  companyInput.style.transform = "translateY(20px)";

  docButtons.style.opacity = "0";
  docButtons.style.pointerEvents = "none";
  docButtons.style.transform = "translateY(20px)";

  if (view !== "org") {
    setTimeout(() => {
      companyInput.style.opacity = "1";
      companyInput.style.pointerEvents = "auto";
      companyInput.style.transform = "translateY(0)";
    }, 50);
  }

  setTimeout(() => {
    docButtons.style.opacity = "1";
    docButtons.style.pointerEvents = "auto";
    docButtons.style.transform = "translateY(0)";
  }, view === "org" ? 150 : 200);
}

// DOCUMENT ROUTING
function openDocument(type) {
  if (!selectedView) return;

  let target;

  if (type === "cover") {
    target = "cover.html";
  } else if (selectedView === "vapourware") {
    target = "vapourware.html";
  } else {
    target = selectedView === "org" ? "resume.html" : "resume_sp.html";
  }

  window.location.href = target;
}

const canvas = document.getElementById("particleCanvas");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const particles = [];
const count = 40;

for (let i = 0; i < count; i++) {
  particles.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2 + 0.5,
    dx: (Math.random() - 0.5) * 0.2,
    dy: (Math.random() - 0.5) * 0.2,
    opacity: Math.random() * 0.4 + 0.1
  });
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  particles.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${p.opacity})`;
    ctx.fill();

    p.x += p.dx;
    p.y += p.dy;

    if (p.x < 0) p.x = canvas.width;
    if (p.x > canvas.width) p.x = 0;
    if (p.y < 0) p.y = canvas.height;
    if (p.y > canvas.height) p.y = 0;
  });

  requestAnimationFrame(animate);
}

animate();
</script>

</div>
</body>
</html>
