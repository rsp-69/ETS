<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Achievements</title>
  <link rel="stylesheet" href="os.css" />
  <link rel="stylesheet" href="achievements.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Tilt+Neon&display=swap" rel="stylesheet">
</head>

<body>
<nav class="top-nav">
  <a href="https://www.linkedin.com/in/rronniee" class="glass-text">RSP</a>
  <a href="index.html" class="active glass-text">Home</a>
  <a href="achievements.html" class="glass-text">Achievements</a>
  <a href="projects.html" class="glass-text">Personal Projects</a>
  <a href="about.html" class="glass-text">About ETS</a>
</nav>
  <!-- HEADER -->
  <header class="ach-header">
    <div class="ach-title">
      <h1>A complete index of my achievements</h1>
      <div class="ach-subtitle">All 33 achievements rendered dynamically</div>
    </div>
  </header>
<div class="ach-input-row">
<div class="ach-selector">
      <input 
        id="achievementInput"
        type="text"
        class="input-field"
        placeholder="Enter IDs e.g. 3, 7, 12, 18, 25"/></div> <button id="generateResumeBtn" class="glass-btn glass-text">Résumé</button>
</div>

<main>
    <div id="achievementsContainer" class="ach-grid"></div>
  </main>

  <script src="achievements.js"></script>
  <script src="achievementFormatter.js"></script>
  <script src="achievement-selector.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      // PAGE ENTRANCE (fade in)
      setTimeout(() => {
        document.body.classList.add("achievements-loaded");
      }, 350);

      // CARD STACKING
      setTimeout(() => {
        const cards = [...document.querySelectorAll(".achievement-card")];

        // Determine columns dynamically
        const columns = {};
        cards.forEach(card => {
          const rect = card.getBoundingClientRect();
          const x = Math.round(rect.left);
          if (!columns[x]) columns[x] = [];
          columns[x].push(card);
        });

        const columnKeys = Object.keys(columns).sort((a, b) => a - b);

        columnKeys.forEach((col, index) => {
          setTimeout(() => {
            columns[col].forEach(card => {
              card.classList.add("revealed");
            });
          }, index * 80);
        });

        // After cascade → shimmer nav once
        const totalTime = columnKeys.length * 80 + 400;

        setTimeout(() => {
          const nav = document.querySelector(".top-nav");
          if (nav) nav.classList.add("nav-shimmer-once");
        }, totalTime);

      }, 350 + 80);
    });
  </script>

</body>
</html>
